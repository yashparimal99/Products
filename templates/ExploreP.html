<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DiGi Bank Products</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
  <!-- <nav class="navbar navbar-expand-lg navbar-dark bg-dark"> -->
  <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #0B4D83 !important;">
    <div class="container-fluid">
      <!-- üîΩ Custom DigiBank Logo -->
      <a class="navbar-brand digi-bank-logo" href="{{ url_for('home') }}">
        <div class="logo-icon"></div>
        <div class="logo-text">
          <div class="main-text">
            <span class="digi">DiGi</span><span class="bank">Bank</span>
          </div>
          <div class="tagline">Smart Banking</div>
        </div>
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link active" href="{{ url_for('home') }}">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="{{ url_for('exploreproduct') }}">Explore Products</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Grab Deals</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Make Payments</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Bank Smart</a></li>
        </ul>

        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="btn btn-outline-light me-2 navbar-btn" href="{{ url_for('login') }}">Login</a>
          </li>
          <li class="nav-item">
            <a class="btn btn-light navbar-btn" href="{{ url_for('signup') }}">Sign Up</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>



  <style>
    .breadcrumb .breadcrumb-item a {
      color: #0B4D83;
      text-decoration: none;
    }

    .breadcrumb .breadcrumb-item a:hover {
      text-decoration: underline;
    }

    .breadcrumb .breadcrumb-item {
      color: #0B4D83;
    }

    .custom-btn {
      background-color: #0B4D83;
      color: white;
      border: none;
      transition: all 0.3s ease;
    }

    .custom-btn:hover {
      background-color: #7b1040;
      color: white;
      transform: translateY(-2px);
    }

    .card {
      transition: transform 0.3s ease;
      height: 100%;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(151, 20, 77, 0.15);
    }

    .card-img-top {
      height: 200px;
      object-fit: cover;
    }

    .product-title {
      color: #0B4D83;
      font-weight: bold;
      text-align: center;
      margin: 40px 0;
    }

    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@600;700;800&display=swap');

    .digi-bank-logo {

      display: flex;

      align-items: center;

      gap: 12px;

      text-decoration: none;

      transition: transform 0.3s ease;

    }

    .digi-bank-logo:hover {

      transform: scale(1.05);

    }

    .logo-icon {

      width: 50px;

      height: 50px;

      background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 100%);

      border-radius: 12px;

      display: flex;

      align-items: center;

      justify-content: center;

      position: relative;

      box-shadow: 0 6px 18px rgba(102, 126, 234, 0.3), 0 2px 6px rgba(0, 0, 0, 0.1);

    }

    .logo-icon::before {

      content: '';

      position: absolute;

      top: 8px;

      left: 8px;

      right: 8px;

      bottom: 8px;

      background: rgba(255, 255, 255, 0.95);

      border-radius: 8px;

    }

    .logo-icon::after {

      content: 'D';

      position: absolute;

      color: transparent;

      background: linear-gradient(135deg, #667eea, #764ba2);

      background-clip: text;

      -webkit-background-clip: text;

      font-weight: 800;

      font-size: 20px;

      z-index: 2;

    }

    .logo-text {

      color: #fff;

    }

    .main-text {

      font-size: 20px;

      font-weight: 800;

      letter-spacing: -0.5px;

      line-height: 1;

    }

    .digi {

      background: linear-gradient(135deg, #87CEEB 0%, #98D8E8 25%, #FFF8DC 50%, #87CEFA 100%);

      background-clip: text;

      -webkit-background-clip: text;

      color: transparent;

      text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);

    }

    .bank {

      color: #ffffff;

      margin-left: 3px;

      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);

    }

    .tagline {

      font-size: 9px;

      font-weight: 600;

      color: #e8f4f8;

      letter-spacing: 2px;

      text-transform: uppercase;

      margin-top: 2px;

    }
  </style>

  <nav aria-label="breadcrumb" class="mt-3 ms-3">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="{{ url_for('home') }}">Home</a></li>
      <li class="breadcrumb-item active">Explore Products</li>
    </ol>
  </nav>

  <!-- ‚úÖ Carousel with Arrows Inside Image at Bottom -->
  <div id="adBannerCarousel" class="carousel slide position-relative" data-bs-ride="carousel" data-bs-interval="1500">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="{{ url_for('static', filename='ExploreP/20881873_6394589.jpg') }}" class="d-block w-100"
          style="height: 600px; object-fit: cover;" alt="Ad 1">
      </div>
      <div class="carousel-item">
        <img src="{{ url_for('static', filename='ExploreP/43217840_9035826.jpg') }}" class="d-block w-100"
          style="height: 600px; object-fit: cover;" alt="Ad 2">
      </div>
      <div class="carousel-item">
        <img src="{{ url_for('static', filename='ExploreP/istockphoto-1339956397-1024x1024.jpg') }}"
          class="d-block w-100" style="height: 600px; object-fit: cover;" alt="Ad 3">
      </div>
    </div>

    <!-- ‚úÖ Custom Positioned Arrows -->
    <button class="carousel-control-prev custom-arrow left-arrow" type="button" data-bs-target="#adBannerCarousel"
      data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>

    <button class="carousel-control-next custom-arrow right-arrow" type="button" data-bs-target="#adBannerCarousel"
      data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>


  <div class="container mt-5">
    <h2 class="product-title">Our Banking Products & Services</h2>

    <div class="row g-4">
      <!-- Card 1 - Accounts -->
      <div class="col-md-4">
        <div class="card" style="border: 2px solid #0B4D83;">
          <img src="{{ url_for('static', filename='Account/istockphoto-1156846675-2048x2048.jpg') }}"
            class="card-img-top" alt="Accounts">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title text-center">Accounts</h5>
            <p class="card-text">Discover our range of savings and current accounts designed to meet your banking needs
              with competitive interest rates and exclusive benefits.</p>
            <a href="{{ url_for('Accounts') }}" class="btn custom-btn mt-auto">Know More..</a>
          </div>
        </div>
      </div>

      <!-- Card 2 - Deposits -->
      <div class="col-md-4">
        <div class="card" style="border: 2px solid #0B4D83;">
          <img src="{{ url_for('static', filename='Deposits/2508.jpg') }}" class="card-img-top" alt="Deposits">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title text-center">Deposits</h5>
            <p class="card-text">Grow your wealth with our fixed deposits and recurring deposits offering attractive
              interest rates and flexible tenure options.</p>
            <a href="{{ url_for('deposits') }}" class="btn custom-btn mt-auto">Know More..</a>
          </div>
        </div>
      </div>

      <!-- Card 3 - Cards -->
      <div class="col-md-4">
        <div class="card" style="border: 2px solid #0B4D83;">
          <img src="{{ url_for('static', filename='Cards/2151961260.jpg') }}" class="card-img-top" alt="Cards">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title text-center">Cards</h5>
            <p class="card-text">Choose from our premium collection of credit and debit cards with exciting rewards,
              cashback offers, and worldwide acceptance.</p>
            <a href="{{ url_for('cards') }}" class="btn custom-btn mt-auto">Know More..</a>
          </div>
        </div>
      </div>

      <!-- Card 4 - Loans -->
      <div class="col-md-4">
        <div class="card" style="border: 2px solid #0B4D83;">
          <img src="{{ url_for('static', filename='Loan/mainloan.jpg') }}" class="card-img-top" alt="Loans">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title text-center">Loans</h5>
            <p class="card-text">Fulfill your dreams with our comprehensive loan solutions including home loans,
              personal loans, and business loans at competitive rates.</p>
            <a href="{{ url_for('loans') }}" class="btn custom-btn">Know More..</a>
          </div>
        </div>
      </div>

      <!-- Card 5 - Forex -->
      <div class="col-md-4">
        <div class="card" style="border: 2px solid #0B4D83;">
          <img src="{{ url_for('static', filename='Forex/2151807731.jpg') }}" class="card-img-top" alt="Forex">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title text-center">Forex</h5>
            <p class="card-text">Access foreign exchange services with competitive rates for travel, business, and
              investment needs across multiple currencies.</p>
            <a href="{{ url_for('forex') }}" class="btn custom-btn mt-auto">Know More..</a>
          </div>
        </div>
      </div>

      <!-- Card 6 - Investments -->
      <div class="col-md-4">
        <div class="card" style="border: 2px solid #0B4D83;">
          <img src="{{ url_for('static', filename='investment/istockphoto-2148708716-2048x2048.jpg') }}"
            class="card-img-top" alt="Investments">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title text-center">Investments</h5>
            <p class="card-text">Build your portfolio with our investment solutions including mutual funds, insurance,
              and wealth management services.</p>
            <a href="{{ url_for('invest') }}" class="btn custom-btn mt-auto">Know More..</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="mt-5 py-4" style="background-color: #0B4D83; color: white;">
    <div class="container text-center">
      <p>&copy; 2025 DiGi Bank. All rights reserved.</p>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

<style>
        body { font-family: Arial; margin: 0; background: #fff; }

        #chatButton {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #0066ff;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            color: white;
            font-size: 28px;
            border: none;
            cursor: pointer;
            box-shadow: 0px 4px 10px rgba(0,0,0,0.2);
        }

        #chatBox {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 360px;
            height: 480px;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0px 4px 12px rgba(0,0,0,0.3);
            display: none;
            flex-direction: column;
        }

        .chat-header {
            background: #0066ff;
            color: white;
            padding: 12px;
            font-size: 18px;
            border-radius: 12px 12px 0 0;
            display: flex;
            justify-content: space-between;
        }

        .chat-body {
            flex: 1;
            padding: 10px;
            overflow-y: auto;
        }

        .msg {
            padding: 10px;
            margin: 8px 0;
            max-width: 80%;
            border-radius: 8px;
            font-size: 14px;
            white-space: pre-wrap;
            line-height: 1.4;
        }

        .user { background: #e3f0ff; margin-left: auto; }
        .bot { background: #f1f1f1; margin-right: auto; }

        .chat-inputBox {
            padding: 8px;
            display: flex;
            border-top: 1px solid #ccc;
        }

        textarea {
            flex: 1;
            resize: none;
            padding: 8px;
        }

        .sendBtn {
            width: 60px;
            background: #0066ff;
            color: white;
            border: none;
            border-radius: 6px;
            margin-left: 5px;
            cursor: pointer;
        }
    </style>

    <script>

        /* ‚ñ∂ FIXED: NEW CLEAN CHAT ON EVERY OPEN */
        function toggleChat() {

            // Remove old chat history
            localStorage.removeItem("chatHistory");

            // Clear UI messages
            document.getElementById("chatMessages").innerHTML = "";

            // Show chatbox
            document.getElementById("chatBox").style.display = "flex";
        }

        function loadHistory() {
            let history = JSON.parse(localStorage.getItem("chatHistory") || "[]");
            let box = document.getElementById("chatMessages");
            box.innerHTML = "";

            history.forEach(m => {
                box.innerHTML += `<div class='msg ${m.role}'>${m.text}</div>`;
            });

            box.scrollTop = box.scrollHeight;
        }

        function saveMessage(role, text) {
            let history = JSON.parse(localStorage.getItem("chatHistory") || "[]");
            history.push({ role, text });
            localStorage.setItem("chatHistory", JSON.stringify(history));
        }

        function sendMessage() {

            let input = document.getElementById("userMessage");
            let msg = input.value.trim();
            if (!msg) return;

            saveMessage("user", msg);
            loadHistory();

            input.value = "";

            fetch("/chat", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ message: msg })
            })
            .then(res => res.json())
            .then(data => {
                saveMessage("bot", data.answer);
                loadHistory();
            });
        }
    </script>
</head>

<body>

<button id="chatButton" onclick="toggleChat()">üí¨</button>

<div id="chatBox">
    <div class="chat-header">
        DigiBank Chatbot
        <span onclick="document.getElementById('chatBox').style.display='none'" style="cursor:pointer;">‚ùå</span>
    </div>

    <div class="chat-body" id="chatMessages"></div>

    <div class="chat-inputBox">
        <textarea id="userMessage" placeholder="Type message..."></textarea>
        <button onclick="sendMessage()" class="sendBtn">Send</button>
    </div>
</div>
</body>

</html>