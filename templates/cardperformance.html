<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Agent Performance Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
 
  <!-- Fonts & Icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
 
  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
 
  <style>
    :root {
      --primary-color: #0B4D83;
      --secondary-color: #1976D2;
      --accent-color: #FF6B35;
      --success-color: #00C853;
      --warning-color: #FF8F00;
      --dark-color: #263238;
      --light-color: #F8F9FA;
      --gradient-primary: linear-gradient(135deg, #0B4D83 0%, #1976D2 100%);
      --gradient-secondary: linear-gradient(135deg, #FF6B35 0%, #FF8F00 100%);
      --shadow-light: 0 4px 20px rgba(11, 77, 131, 0.1);
      --shadow-medium: 0 8px 30px rgba(11, 77, 131, 0.15);
      --shadow-heavy: 0 15px 40px rgba(11, 77, 131, 0.2);
    }
 
    body {
      font-family: 'Poppins', sans-serif;
      line-height: 1.6;
      color: var(--dark-color);
      background: linear-gradient(135deg, rgba(11, 77, 131, 0.02), rgba(25, 118, 210, 0.02));
      margin: 0;
    }
 
    /* Top Bar */
    .top-bar {
      background: var(--gradient-primary);
      color: white;
      padding: 12px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: var(--shadow-medium);
    }
 
    .top-bar img {
      height: 40px;
      background: white;
      border-radius: 5px;
      padding: 2px;
    }
 
    .top-bar h5 {
      margin: 0;
      font-weight: 600;
    }
 
    .top-bar .btn {
      border: 1.5px solid white;
      color: white;
      transition: all 0.3s ease;
    }
 
    .top-bar .btn:hover {
      background: white;
      color: var(--primary-color);
    }
 
    /* Breadcrumb */
    .breadcrumb {
      background: linear-gradient(135deg, rgba(11, 77, 131, 0.05), rgba(25, 118, 210, 0.05));
      border-radius: 15px;
      padding: 1rem 1.5rem;
      margin: 1.5rem;
      box-shadow: var(--shadow-light);
    }
 
    .breadcrumb .breadcrumb-item a {
      color: var(--primary-color);
      font-weight: 500;
      text-decoration: none;
      transition: all 0.3s ease;
    }
 
    .breadcrumb .breadcrumb-item a:hover {
      color: var(--secondary-color);
      text-decoration: underline;
    }
 
    /* Section Title */
    h4 {
      color: var(--primary-color);
      font-weight: 700;
    }
 
    /* Cards */
    .card {
      border-radius: 20px;
      box-shadow: var(--shadow-light);
      transition: all 0.3s ease;
      background: linear-gradient(145deg, #ffffff, #f8f9fa);
    }
 
    .card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-heavy);
      background: linear-gradient(145deg, #ffffff, #f0f4ff);
    }
 
    .metric-card {
      text-align: center;
      padding: 20px;
    }
 
    .metric-value {
      font-size: 1.6rem;
      font-weight: bold;
      color: var(--secondary-color);
    }
 
    .funnel-stage {
      border-left: 5px solid var(--primary-color);
      padding: 10px;
      margin-bottom: 15px;
      background: #fff;
      border-radius: 10px;
      box-shadow: var(--shadow-light);
    }
 
    /* Footer */
    footer {
      background: var(--gradient-primary);
      color: white;
      text-align: center;
      padding: 15px;
      margin-top: 40px;
    }
 
    /* Buttons */
    .nav-btn {
      border: 1px solid var(--primary-color);
      color: var(--primary-color);
      background: white;
      transition: all 0.3s ease;
    }
 
    .nav-btn:hover, .nav-btn.active {
      background: var(--primary-color);
      color: white;
    }
  </style>
</head>
<body>
 
<!-- Top Bar -->
<div class="top-bar">
  <div class="d-flex align-items-center">
    <img src="{{ url_for('static', filename='images/logo.jpg') }}" alt="Logo" class="me-3">
    <h5>Welcome To Cards Agent Dashboard - DigiBank</h5>
  </div>
  <div class="d-flex align-items-center">
    <h6 class="m-0 me-2">Welcome, {{ user.email }}</h6>
    <a href="{{ url_for('logout') }}" class="btn btn-sm">Logout</a>
  </div>
</div>
 
<!-- Breadcrumb -->
<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="{{ url_for('dashboard') }}">Dashboard</a></li>
    <li class="breadcrumb-item active" aria-current="page"><a href="{{ url_for('cardperformance') }}">Agent Performance</a></li>
  </ol>
</nav>
 
<!-- Main Container -->
<div class="container my-5">
  <div class="card p-4">
    <h4 class="mb-4 text-center">Agent Performance</h4>
 
    <!-- Filters -->
    <div class="d-flex justify-content-center mb-4">
      <div class="dropdown me-3">
        <button class="btn nav-btn dropdown-toggle" type="button" id="cardTypeFilter" data-bs-toggle="dropdown">
          All Cards
        </button>
        <ul class="dropdown-menu" aria-labelledby="cardTypeFilter">
          <li><a class="dropdown-item" href="#" data-card-type="all">All Cards</a></li>
          <li><a class="dropdown-item" href="#" data-card-type="Credit Card">Credit Card</a></li>
          <li><a class="dropdown-item" href="#" data-card-type="Debit Card">Debit Card</a></li>
          <li><a class="dropdown-item" href="#" data-card-type="International Card">International Card</a></li>
        </ul>
      </div>
      <div class="dropdown">
        <button class="btn nav-btn dropdown-toggle" type="button" id="statusFilter" data-bs-toggle="dropdown">
          All Statuses
        </button>
        <ul class="dropdown-menu" aria-labelledby="statusFilter">
          <li><a class="dropdown-item" href="#" data-status="all">All Statuses</a></li>
          <li><a class="dropdown-item" href="#" data-status="Approved">Approved</a></li>
          <li><a class="dropdown-item" href="#" data-status="Pending">Pending</a></li>
          <li><a class="dropdown-item" href="#" data-status="Issued">Issued</a></li>
          <li><a class="dropdown-item" href="#" data-status="Declined">Declined</a></li>
        </ul>
      </div>
    </div>
 
    <!-- KPI Cards -->
    <div class="row g-4 mb-4 text-center">
      <div class="col-md-4">
        <div class="card metric-card">
          <h6>Sales Rate</h6>
          <div id="salesRate" class="metric-value">
            35.1% <i class="bi bi-arrow-up"></i>
          </div>
          <small>Compared to last week</small>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card metric-card">
          <h6>Total Interactions</h6>
          <div id="totalInteractions" class="metric-value">65</div>
          <small>All customer contacts</small>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card metric-card">
          <h6>Applications Submitted</h6>
          <div id="applicationsSubmitted" class="metric-value">22</div>
          <small>Successful card applications</small>
        </div>
      </div>
    </div>
 
    <!-- Progress & Trends -->
    <div class="row g-4 mb-4">
      <div class="col-md-6">
        <div class="card p-4">
          <h6>Sales Target Progress</h6>
          <p>
            <strong>Target:</strong> <span id="targetValue">120</span> |
            <strong>Sold:</strong> <span id="soldValue">75</span> |
            <strong>Remaining:</strong> <span id="remainingValue">45</span>
          </p>
          <div class="progress">
            <div id="progressBar" class="progress-bar bg-success" role="progressbar" style="width: 62.5%;">62.5%</div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card p-4">
          <h6>Weekly Performance Trends</h6>
          <canvas id="weeklyChart" height="140"></canvas>
        </div>
      </div>
    </div>
 
    <!-- Funnel -->
    <div class="card p-4">
      <h6>Customer Journey Funnel</h6>
      <div class="funnel-stage">
        <strong>Stage 1: Contacted</strong>
        <p><span id="contactedCount">65</span> Customers | Conversion: <span id="contactedConv">34</span>% → Interested</p>
      </div>
      <div class="funnel-stage">
        <strong>Stage 2: Expressed Interest</strong>
        <p><span id="interestedCount">22</span> Customers | Conversion: <span id="interestedConv">95</span>% → Application</p>
      </div>
      <div class="funnel-stage">
        <strong>Stage 3: Application Submitted</strong>
        <p><span id="submittedCount">21</span> Customers | Conversion: <span id="submittedConv">95</span>% → Approved</p>
      </div>
      <div class="funnel-stage">
        <strong>Stage 4: Card Issued</strong>
        <p><span id="issuedCount">20</span> Customers</p>
      </div>
    </div>
  </div>
</div>
 
<!-- Footer -->
<footer>
  © 2024 DigiBank. All rights reserved.
</footer>
 
<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
 
<!-- Dashboard Script -->
<script>
  // same script from your version (unchanged)
</script>
</body>
</html>
 
 